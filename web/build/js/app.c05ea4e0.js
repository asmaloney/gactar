(function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3616:function(e,t,n){"use strict";n("6074")},"41d0":function(e,t,n){},"520f":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("466d");var a=n("56b3"),r=n.n(a);r.a.defineMode("amod",(function(){var e=/^={2}(model|config|init|productions)={2}/,t=/[?][a-zA-Z0-9_]*/,n={chunks:!0,clear:!0,description:!0,do:!0,examples:!0,gactar:!0,match:!0,modules:!0,name:!0,print:!0,recall:!0,set:!0,to:!0,write:!0},a={goal:!0,imaginal:!0,memory:!0,nil:!0,"!nil":!0,retrieval:!0};function r(e,t){var n=e.next();while(!e.eol()&&n!=t.pending)n=e.next();return"string"}function o(o,i){var s=o.next();if("/"==s&&o.eat("/"))return o.skipToEnd(),"comment";if("["===s)return i.startPattern=!0,"bracket";if("]"===s)return"bracket";if("{"===s||"}"===s)return"bracket";if("'"==s||'"'==s)return i.pending=s,r(o,i);if("?"===s&&(o.backUp(1),o.match(t)))return"variable";if("="===s){if(o.backUp(1),o.match(e))return"header";o.next()}o.eatWhile(/[\w-]/);var c=o.current();return c in n?"keyword":c in a?"built-in":i.startPattern?(i.startPattern=!1,"chunk-name"):void 0}return{startState:function(){var e={pending:!1,startPattern:!1};return e},token:function(e,t){return e.eatSpace()?null:o(e,t)}}})),r.a.defineMIME("text/amod","gactar")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("section",{staticClass:"section p-0 pt-4"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-three-fifths"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-dropdown",{attrs:{"aria-role":"list"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[n("b-button",{attrs:{label:"Load Example",type:"is-info","icon-right":"caret-square-down"}})]}}])},e._l(e.exampleFiles,(function(t){return n("b-dropdown-item",{key:t,attrs:{value:t,"aria-role":"listitem",focusable:!1},on:{click:function(n){return e.getExample(t)}}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("div",{staticClass:"column"},[n("b-field",{staticClass:"is-pulled-right",attrs:{grouped:""}},[n("b-button",{attrs:{type:"is-info ml-2"},on:{click:e.saveCode}},[n("span",{staticClass:"fa fa-file-download icon-space"}),e._v(" Save To File ")]),n("b-field",{staticClass:"file is-info ml-2"},[n("b-upload",{staticClass:"file-label",attrs:{accept:".amod,text/plain"},model:{value:e.fileToLoad,callback:function(t){e.fileToLoad=t},expression:"fileToLoad"}},[n("span",{staticClass:"file-cta"},[n("span",{staticClass:"fa fa-file-upload icon-space"}),n("span",{staticClass:"file-label"},[e._v("Load From File")])])])],1)],1)],1)])]),n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Goal","label-position":"on-border"}},[n("b-input",{attrs:{placeholder:"(initial goal here)",expanded:""},model:{value:e.goal,callback:function(t){e.goal=t},expression:"goal"}}),n("p",{staticClass:"control"},[n("b-button",{staticClass:"button is-info",attrs:{loading:e.running},on:{click:e.run}},[n("span",{staticClass:"fa fa-running icon-space"}),e._v("Run ")])],1)],1)],1)]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-three-fifths"},[n("code-mirror",{key:e.count,ref:"code-editor",attrs:{"amod-code":e.amodCode},on:{"update:amodCode":function(t){e.amodCode=t},"update:amod-code":function(t){e.amodCode=t}}})],1),n("div",{staticClass:"column"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.results,expression:"results"}],attrs:{id:"results"},domProps:{value:e.results},on:{input:function(t){t.target.composing||(e.results=t.target.value)}}})])])])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v(" Andy's Fancy ACT-R Thingamabob (a.k.a. "),n("a",{attrs:{href:"https://github.com/asmaloney/gactar",target:"_"}},[e._v("gactar")]),e._v(") ")])}],i=n("3835"),s=n("1da1"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("4fad"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{id:"codemirror"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])}),l=[],u=n("56b3"),d=n.n(u);n("10b2"),n("8c33"),n("31c5");n("520f");var f={props:{amodCode:{type:String,default:function(){return"(amod file here)"}}},data:function(){return{editor:null,code:this.amodCode}},mounted:function(){this.editor=d.a.fromTextArea(document.getElementById("codemirror"),{lineNumbers:!0,mode:"amod",theme:"amod",autoCloseBrackets:!0,matchBrackets:!0,styleActiveLine:!0}),this.editor.on("change",this.onCmCodeChange)},methods:{onCmCodeChange:function(){0!=this.editor.getValue().length&&this.$emit("update:amodCode",this.editor.getValue())},setCode:function(e){this.editor.setValue(e)}}},p=f,m=n("2877"),h=Object(m["a"])(p,c,l,!1,null,"40720c21",null),v=h.exports,b="gactar-code-editor",g={components:{CodeMirror:v},data:function(){return{amodCode:"",exampleFiles:[],fileToLoad:null,goal:"",loadedFromLocal:!1,running:!1,results:"",count:0}},watch:{fileToLoad:function(e){var t=this;if(null!=e){var n=new FileReader;n.onload=function(e){t.$refs["code-editor"].setCode(e.target.result)},n.readAsText(this.fileToLoad)}}},created:function(){window.addEventListener("beforeunload",this.beforeWindowUnload),window.addEventListener("load",this.onWindowLoad)},beforeDestroy:function(){window.removeEventListener("load",this.onWindowLoad),window.removeEventListener("beforeunload",this.beforeWindowUnload)},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getExamples();case 2:e.loadedFromLocal||e.getExample(e.exampleFiles[0]);case 3:case"end":return t.stop()}}),t)})))()},methods:{beforeWindowUnload:function(){localStorage.setItem(b,this.amodCode)},getExample:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http.get("/examples/"+e);case 3:a=n.sent,r=a.data,t.count+=1,t.amodCode=r,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.showError(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getExamples:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/examples/list");case 3:n=t.sent,a=n.data,e.exampleFiles=a.example_list,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.showError(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onWindowLoad:function(){var e=localStorage.getItem(b);null!==e&&(this.loadedFromLocal=!0,this.$refs["code-editor"].setCode(e))},run:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.running=!0,t.prev=1,t.next=4,e.$http.post("/run",{amod:e.amodCode,run:e.goal});case 4:if(n=t.sent,a=n.data,!a.error){t.next=9;break}return e.showError(a.error),t.abrupt("return");case 9:e.setResults(a.results),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.showError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},saveCode:function(){var e=new Blob([this.amodCode],{type:"text/plain;charset=utf-8"}),t=document.createElement("a");t.download="model.amod",t.innerHTML="Save File",null!=window.webkitURL?t.href=window.webkitURL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",t.onclick=function(e){document.body.removeChild(e.target)},document.body.appendChild(t)),t.click()},setResults:function(e){for(var t="",n=0,a=Object.entries(e);n<a.length;n++){var r=Object(i["a"])(a[n],2),o=r[0],s=r[1];t+=o+"\n---\n",t+=s,t+="\n\n"}this.results=t,this.running=!1},showError:function(e){this.results=e,this.running=!1}}},w=g,x=(n("3616"),Object(m["a"])(w,r,o,!1,null,"dd93dc66",null)),C=x.exports,k=n("bc3a"),y=n.n(k),_=n("2106"),L=n.n(_),E=n("77b4"),O=n("ea9e"),j=n("10bd"),R=n("7f82"),T=n("544d"),F=n("f7da"),P=n("5e93"),S=n("ecee"),U=n("b702"),$=n("c074"),M=n("ad3d");a["a"].use(L.a,y.a),a["a"].use(E["a"]),a["a"].use(O["a"]),a["a"].use(j["a"]),a["a"].use(R["a"]),a["a"].use(T["a"]),a["a"].use(F["a"]),P["a"].setOptions({defaultIconPack:"far"}),S["d"].add(U["a"],$["a"],$["b"],$["c"]),S["b"].watch(),a["a"].component("FontAwesomeIcon",M["a"]),a["a"].config.productionTip=!1,n("41d0"),new a["a"]({render:function(e){return e(C)}}).$mount("#app")},6074:function(e,t,n){}});