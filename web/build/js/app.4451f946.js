(function(e){function t(t){for(var a,i,s=t[0],d=t[1],l=t[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var d=n[s];0!==o[d]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"41d0":function(e,t,n){},"520f":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("466d");var a=n("56b3"),o=n.n(a);o.a.defineMode("amod",(function(){var e=/^={2}(model|config|init|productions)={2}/,t=/[?][a-zA-Z0-9_]*/,n={chunks:!0,clear:!0,description:!0,do:!0,examples:!0,gactar:!0,match:!0,modules:!0,name:!0,print:!0,recall:!0,set:!0,to:!0,write:!0},a={goal:!0,imaginal:!0,memory:!0,nil:!0,"!nil":!0,retrieval:!0};function o(e,t){var n=e.next();while(!e.eol()&&n!=t.pending)n=e.next();return"string"}function r(r,i){var s=r.next();if("/"==s&&r.eat("/"))return r.skipToEnd(),"comment";if("["===s)return i.startPattern=!0,"bracket";if("]"===s)return"bracket";if("{"===s||"}"===s)return"bracket";if("'"==s||'"'==s)return i.pending=s,o(r,i);if("?"===s&&(r.backUp(1),r.match(t)))return"variable";if("="===s){if(r.backUp(1),r.match(e))return"header";r.next()}r.eatWhile(/[\w-]/);var d=r.current();return d in n?"keyword":d in a?"built-in":i.startPattern?(i.startPattern=!1,"chunk-name"):void 0}return{startState:function(){var e={pending:!1,startPattern:!1};return e},token:function(e,t){return e.eatSpace()?null:r(e,t)}}})),o.a.defineMIME("text/amod","gactar")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._m(0),n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-three-fifths code-column"},[n("b-tabs",{staticClass:"custom",attrs:{animated:!1,expanded:"",type:"is-boxed"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("amod-code-tab",{on:{codeChange:e.codeChange,showError:e.showError}}),e._l(e.tabs,(function(t){return[t.displayed?n("code-tab",{key:t.id,attrs:{value:t.id,framework:t.id,mode:t.mode,"file-extension":t.fileExtension,"model-name":t.modelName,code:e.code[t.id]}}):e._e()]}))],2)],1),n("div",{staticClass:"column"},[n("div",{staticClass:"columns buttons"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Goal","label-position":"on-border"}},[n("b-input",{attrs:{placeholder:"(initial goal here)",expanded:""},model:{value:e.goal,callback:function(t){e.goal=t},expression:"goal"}}),n("p",{staticClass:"control"},[n("b-button",{staticClass:"button is-info is-light",attrs:{loading:e.running},on:{click:e.run}},[n("span",{staticClass:"fa fa-running icon-space"}),e._v("Run ")])],1)],1)],1)]),n("div",{staticClass:"columns result"},[n("div",{staticClass:"column"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.results,expression:"results"}],attrs:{id:"results"},domProps:{value:e.results},on:{input:function(t){t.target.composing||(e.results=t.target.value)}}})])])])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v(" Andy's Fancy ACT-R Thingamabob (a.k.a. "),n("a",{attrs:{href:"https://github.com/asmaloney/gactar",target:"_"}},[e._v("gactar")]),e._v(") ")])}],i=n("3835"),s=n("1da1"),d=(n("4fad"),n("c740"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tab-item",{attrs:{label:"amod"}},[n("div",{staticClass:"columns buttons"},[n("div",{staticClass:"column"},[n("b-field",{staticClass:"is-pulled-right",attrs:{grouped:""}},[n("b-dropdown",{attrs:{"aria-role":"list"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[n("b-button",{attrs:{label:"Load Example",type:"is-info is-light","icon-right":"caret-square-down"}})]}}])},e._l(e.exampleFiles,(function(t){return n("b-dropdown-item",{key:t,attrs:{value:t,"aria-role":"listitem",focusable:!1},on:{click:function(n){return e.getExample(t)}}},[e._v(" "+e._s(t)+" ")])})),1),n("save-button",{attrs:{code:e.amodCode,"default-name":"model","file-extension":"amod"}}),n("b-field",{staticClass:"file is-info"},[n("b-upload",{staticClass:"file-label is-outlined",attrs:{accept:".amod,text/plain"},model:{value:e.fileToLoad,callback:function(t){e.fileToLoad=t},expression:"fileToLoad"}},[n("b-button",{attrs:{type:"is-info is-light ml-2"}},[n("span",{staticClass:"fa fa-file-upload icon-space"}),e._v(" Load ")])],1)],1)],1)],1)]),n("code-mirror",{key:e.count,ref:"code-editor",attrs:{"amod-code":e.amodCode,mode:"amod",framework:"amod"},on:{"update:amodCode":function(t){e.amodCode=t},"update:amod-code":function(t){e.amodCode=t}}})],1)}),l=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{id:e.id},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])},u=[],m=n("56b3"),f=n.n(m);n("f4ba"),n("10b2"),n("8c33"),n("31c5"),n("9260"),n("db91");n("520f");var p={props:{amodCode:{type:String,default:function(){return"(code here)"}},mode:{type:String,required:!0},readOnly:{type:Boolean,default:!1},framework:{type:String,required:!0}},data:function(){return{editor:null,id:"id-"+this.framework,code:this.amodCode}},mounted:function(){this.editor=f.a.fromTextArea(document.getElementById(this.id),{lineNumbers:!0,mode:this.mode,theme:"amod",autoCloseBrackets:!0,autoRefresh:!0,matchBrackets:!0,readOnly:this.readOnly,styleActiveLine:!0}),this.editor.on("change",this.onCmCodeChange)},methods:{onCmCodeChange:function(){0!=this.editor.getValue().length&&this.$emit("update:amodCode",this.editor.getValue())},setCode:function(e){this.editor.setValue(e)}}},h=p,b=n("2877"),v=Object(b["a"])(h,c,u,!1,null,null,null),g=v.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button",{attrs:{type:"is-info is-light ml-2"},on:{click:e.saveCode}},[n("span",{staticClass:"fa fa-file-download icon-space"}),e._v("Save ")])},x=[],y=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),{props:{code:{type:String,required:!0},defaultName:{type:String,required:!0},fileExtension:{type:String,required:!0}},methods:{saveCode:function(){var e=new Blob([this.code],{type:"text/plain;charset=utf-8"}),t=document.createElement("a");t.download=this.defaultName+"."+this.fileExtension,t.innerHTML="Save File",null!=window.webkitURL?t.href=window.webkitURL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",t.onclick=function(e){document.body.removeChild(e.target)},document.body.appendChild(t)),t.click()}}}),C=y,k=Object(b["a"])(C,w,x,!1,null,null,null),_=k.exports,E="gactar-code-editor",O={components:{CodeMirror:g,SaveButton:_},data:function(){return{amodCode:"",exampleFiles:[],fileToLoad:null,loadedFromLocal:!1,count:0}},watch:{amodCode:function(){this.$emit("codeChange",this.amodCode)},fileToLoad:function(e){var t=this;if(null!=e){var n=new FileReader;n.onload=function(e){t.$refs["code-editor"].setCode(e.target.result)},n.readAsText(this.fileToLoad)}}},created:function(){window.addEventListener("beforeunload",this.beforeWindowUnload),window.addEventListener("load",this.onWindowLoad)},beforeDestroy:function(){window.removeEventListener("load",this.onWindowLoad),window.removeEventListener("beforeunload",this.beforeWindowUnload)},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getExamples();case 2:e.loadedFromLocal||e.getExample(e.exampleFiles[0]);case 3:case"end":return t.stop()}}),t)})))()},methods:{beforeWindowUnload:function(){localStorage.setItem(E,this.amodCode)},getExample:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http.get("/examples/"+e);case 3:a=n.sent,o=a.data,t.count+=1,t.amodCode=o,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.$emit("showError",n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getExamples:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/examples/list");case 3:n=t.sent,a=n.data,e.exampleFiles=a.example_list,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$emit("showError",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onWindowLoad:function(){var e=localStorage.getItem(E);null!==e&&(this.loadedFromLocal=!0,this.$refs["code-editor"].setCode(e))}}},L=O,S=Object(b["a"])(L,d,l,!1,null,null,null),T=S.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tab-item",{staticClass:"code-tab",attrs:{label:e.framework}},[n("div",{staticClass:"columns buttons"},[n("div",{staticClass:"column"},[n("strong",[e._v(e._s(e.modelName)+"."+e._s(e.fileExtension))]),e._v(" (generated code) "),n("b-field",{staticClass:"is-pulled-right"},[n("save-button",{attrs:{code:e.code,"default-name":e.modelName,"file-extension":e.fileExtension}})],1)],1)]),n("code-mirror",{key:e.count,ref:e.refName,attrs:{"amod-code":e.code,mode:e.mode,framework:e.framework,"read-only":!0},on:{"update:amodCode":function(t){e.code=t},"update:amod-code":function(t){e.code=t}}})],1)},R=[],N={components:{CodeMirror:g,SaveButton:_},props:{code:{type:String,required:!0},mode:{type:String,required:!0},fileExtension:{type:String,required:!0},framework:{type:String,required:!0},modelName:{type:String,required:!0}},data:function(){return{fileToLoad:null,accept:"."+this.mode+",text/plain",refName:"code-editor-"+this.mode,count:0}},watch:{code:function(){this.count+=1,this.$refs[this.refName].setCode(this.code)}}},$=N,P=Object(b["a"])($,j,R,!1,null,null,null),q=P.exports,F={components:{AmodCodeTab:T,CodeTab:q},data:function(){return{activeTab:0,baseTabs:[{id:"ccm",mode:"python",fileExtension:"py",modelName:"",displayed:!1},{id:"pyactr",mode:"python",fileExtension:"py",modelName:"",displayed:!1},{id:"vanilla",mode:"commonlisp",fileExtension:"lisp",modelName:"",displayed:!1}],code:{},goal:"",running:!1,results:""}},computed:{tabs:function(){return this.baseTabs}},methods:{codeChange:function(e){this.code["amod"]=e},run:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.running=!0,t.prev=1,t.next=4,e.$http.post("/run",{amod:e.code["amod"],run:e.goal});case 4:if(n=t.sent,a=n.data,!a.error){t.next=9;break}return e.showError(a.error),t.abrupt("return");case 9:e.setResults(a.results),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.showError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},setResults:function(e){for(var t=this,n="",a=function(){var e=Object(i["a"])(r[o],2),a=e[0],s=e[1];n+=a+"\n---\n",n+=s.output,n+="\n\n",t.code[a]=s.code;var d=t.tabs.findIndex((function(e){return e.id==a}));-1!=d&&(t.tabs[d].modelName=s.modelName,0!=s.code.length&&(t.tabs[d].displayed=!0))},o=0,r=Object.entries(e);o<r.length;o++)a();this.results=n,this.running=!1},showError:function(e){this.results=e,this.running=!1}}},M=F,U=Object(b["a"])(M,o,r,!1,null,null,null),A=U.exports,B=n("bc3a"),I=n.n(B),W=n("2106"),V=n.n(W),J=n("77b4"),z=n("ea9e"),D=n("10bd"),G=n("7f82"),H=n("544d"),Z=n("fe55"),K=n("f7da"),Q=n("5e93"),X=n("ecee"),Y=n("b702"),ee=n("c074"),te=n("ad3d");a["a"].use(V.a,I.a),a["a"].use(J["a"]),a["a"].use(z["a"]),a["a"].use(D["a"]),a["a"].use(G["a"]),a["a"].use(H["a"]),a["a"].use(Z["a"]),a["a"].use(K["a"]),Q["a"].setOptions({defaultIconPack:"far"}),X["d"].add(Y["a"],ee["a"],ee["b"],ee["c"]),X["b"].watch(),a["a"].component("FontAwesomeIcon",te["a"]),a["a"].config.productionTip=!1,n("41d0"),new a["a"]({render:function(e){return e(A)}}).$mount("#app")}});