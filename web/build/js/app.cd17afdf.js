(function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"41d0":function(e,t,n){},"520f":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("466d");var r=n("56b3"),a=n.n(r);a.a.defineMode("amod",(function(){var e=/^={2}(model|config|init|productions)={2}/,t=/[?][a-zA-Z0-9_]*/,n={actr:!0,chunks:!0,clear:!0,description:!0,do:!0,examples:!0,match:!0,modules:!0,name:!0,print:!0,recall:!0,set:!0,to:!0,write:!0},r={goal:!0,imaginal:!0,memory:!0,nil:!0,"!nil":!0,retrieval:!0};function a(e,t){var n=e.next();while(!e.eol()&&n!=t.pending)n=e.next();return"string"}function o(o,i){var l=o.next();if("/"==l&&o.eat("/"))return o.skipToEnd(),"comment";if("["===l)return i.startPattern=!0,"bracket";if("]"===l)return"bracket";if("{"===l||"}"===l)return"bracket";if("'"==l||'"'==l)return i.pending=l,a(o,i);if("?"===l&&(o.backUp(1),o.match(t)))return"variable";if("="===l){if(o.backUp(1),o.match(e))return"header";o.next()}o.eatWhile(/[\w-]/);var s=o.current();return s in n?"keyword":s in r?"built-in":i.startPattern?(i.startPattern=!1,"chunk-name"):void 0}return{startState:function(){var e={pending:!1,startPattern:!1};return e},token:function(e,t){return e.eatSpace()?null:o(e,t)}}})),a.a.defineMIME("text/amod","gactar")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("section",{staticClass:"section p-0 pt-4"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-three-fifths"},[n("b-field",{attrs:{grouped:"",label:"Load Example","label-position":"on-border"}},[n("b-select",{attrs:{placeholder:"Select Example",loading:!e.exampleFiles.length},on:{input:e.handleSelectExample},model:{value:e.selectedExample,callback:function(t){e.selectedExample=t},expression:"selectedExample"}},e._l(e.exampleFiles,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0),n("b-button",{attrs:{type:"is-primary"},on:{click:e.saveCode}},[e._v(" Save To File ")]),n("b-field",{staticClass:"file is-primary ml-2"},[n("b-upload",{staticClass:"file-label",attrs:{accept:".amod,text/plain"},model:{value:e.fileToLoad,callback:function(t){e.fileToLoad=t},expression:"fileToLoad"}},[n("span",{staticClass:"file-cta file-label"},[e._v(" Load From File ")])])],1)],1)],1),n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Goal","label-position":"on-border"}},[n("b-input",{attrs:{placeholder:"(initial goal here)",expanded:""},model:{value:e.goal,callback:function(t){e.goal=t},expression:"goal"}}),n("p",{staticClass:"control"},[n("b-button",{staticClass:"button is-primary",attrs:{loading:e.running},on:{click:e.run}},[e._v(" Run ")])],1)],1)],1)]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-three-fifths"},[n("code-mirror",{key:e.count,ref:"code-editor",attrs:{"amod-code":e.amodCode},on:{"update:amodCode":function(t){e.amodCode=t},"update:amod-code":function(t){e.amodCode=t}}})],1),n("div",{staticClass:"column"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.results,expression:"results"}],attrs:{id:"results"},domProps:{value:e.results},on:{input:function(t){t.target.composing||(e.results=t.target.value)}}})])])])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v(" Andy's Fancy ACT-R Thingamabob (a.k.a. "),n("a",{attrs:{href:"https://github.com/asmaloney/gactar",target:"_"}},[e._v("gactar")]),e._v(") ")])}],i=n("3835"),l=n("1da1"),s=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("4fad"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{id:"codemirror"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])}),c=[],u=n("56b3"),d=n.n(u);n("10b2"),n("8c33"),n("31c5");n("520f");var p={props:{amodCode:{type:String,default:function(){return"(amod file here)"}}},data:function(){return{editor:null,code:this.amodCode}},mounted:function(){this.editor=d.a.fromTextArea(document.getElementById("codemirror"),{lineNumbers:!0,mode:"amod",theme:"amod",autoCloseBrackets:!0,matchBrackets:!0,styleActiveLine:!0}),this.editor.on("change",this.onCmCodeChange)},methods:{onCmCodeChange:function(){0!=this.editor.getValue().length&&this.$emit("update:amodCode",this.editor.getValue())},setCode:function(e){this.editor.setValue(e)}}},m=p,f=n("2877"),h=Object(f["a"])(m,s,c,!1,null,"40720c21",null),v=h.exports,b="gactar-code-editor",g={components:{CodeMirror:v},data:function(){return{amodCode:"",exampleFiles:[],fileToLoad:null,goal:"",loadedFromLocal:!1,running:!1,results:"",selectedExample:null,count:0}},watch:{fileToLoad:function(e){var t=this;if(null!=e){var n=new FileReader;n.onload=function(e){t.$refs["code-editor"].setCode(e.target.result)},n.readAsText(this.fileToLoad)}}},created:function(){window.addEventListener("beforeunload",this.beforeWindowUnload),window.addEventListener("load",this.onWindowLoad)},beforeDestroy:function(){window.removeEventListener("load",this.onWindowLoad),window.removeEventListener("beforeunload",this.beforeWindowUnload)},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getExamples();case 2:e.loadedFromLocal||e.handleSelectExample(e.selectedExample);case 3:case"end":return t.stop()}}),t)})))()},methods:{beforeWindowUnload:function(){localStorage.setItem(b,this.amodCode)},getExample:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http.get("/examples/"+e);case 3:r=n.sent,a=r.data,t.count+=1,t.amodCode=a,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.showError(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getExamples:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("/examples/list");case 3:n=t.sent,r=n.data,e.exampleFiles=r.example_list,e.loadedFromLocal||(e.selectedExample=e.exampleFiles[0]),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.showError(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSelectExample:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getExample(e);case 2:t.selectedExample=null;case 3:case"end":return n.stop()}}),n)})))()},onWindowLoad:function(){var e=localStorage.getItem(b);null!==e&&(this.loadedFromLocal=!0,this.$refs["code-editor"].setCode(e))},run:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.running=!0,t.prev=1,t.next=4,e.$http.post("/run",{amod:e.amodCode,run:e.goal});case 4:if(n=t.sent,r=n.data,!r.error){t.next=9;break}return e.showError(r.error),t.abrupt("return");case 9:e.setResults(r.results),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.showError(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},saveCode:function(){var e=new Blob([this.amodCode],{type:"text/plain;charset=utf-8"}),t=document.createElement("a");t.download="model.amod",t.innerHTML="Save File",null!=window.webkitURL?t.href=window.webkitURL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",t.onclick=function(e){document.body.removeChild(e.target)},document.body.appendChild(t)),t.click()},setResults:function(e){for(var t="",n=0,r=Object.entries(e);n<r.length;n++){var a=Object(i["a"])(r[n],2),o=a[0],l=a[1];t+=o+"\n---\n",t+=l,t+="\n\n"}this.results=t,this.running=!1},showError:function(e){this.results=e,this.running=!1}}},x=g,w=Object(f["a"])(x,a,o,!1,null,null,null),C=w.exports,y=n("bc3a"),k=n.n(y),E=n("77b4"),L=n("10bd"),_=n("7f82"),O=n("544d"),j=n("f7da"),R=n("2106"),S=n.n(R);n("41d0"),r["a"].config.productionTip=!1,r["a"].use(S.a,k.a),r["a"].use(E["a"]),r["a"].use(L["a"]),r["a"].use(_["a"]),r["a"].use(O["a"]),r["a"].use(j["a"]),new r["a"]({render:function(e){return e(C)}}).$mount("#app")}});